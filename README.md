# 英単語学習プログラム

## プロジェクト概要
このプロジェクトは英単語の音声学習を支援するPythonアプリケーションです。  
CSVファイルに登録された英単語を音声で再生し、効率的な単語学習をサポートします。各単語を3回ずつ再生し、3回目の再生時に日本語の意味を表示することで、聞き取り練習と意味の確認を同時に行えます。

### 主な機能
- CSVファイルからの英単語データ読み込み
- Google Text-to-Speech (gTTS) による英単語の音声生成・再生
- ランダム表示モードと順番表示モード
- 学習進捗記録（ランダムモード時の重複回避）
- 学習目標単語数の設定
- 中断・再開機能

---

## 使用している主な技術

- **言語**: Python 3.x
- **音声合成**: Google Text-to-Speech (gTTS)
- **音声再生**: pygame
- **データ処理**: csv（標準ライブラリ）
- **その他**: tempfile, random, time, os（標準ライブラリ）

### 依存ライブラリ
```
gTTS>=2.0.0
pygame>=2.0.0
```

---

## 必要な環境変数・コマンド一覧

### 必要なファイル

| ファイル名       | 説明                           | 必須 |
|----------------|-------------------------------|------|
| `word.csv`     | 英単語と日本語の対応データ        | ✓    |
| `record.csv`   | 学習進捗記録（自動生成）          | -    |

### word.csvの形式
```csv
english,japanese
apple,りんご
banana,バナナ
orange,オレンジ
```

### よく使うコマンド

```bash
# 依存ライブラリのインストール
pip install gtts pygame

# プログラムの実行
python main.py

# 依存関係を一括インストール（requirements.txtがある場合）
pip install -r requirements.txt
```

---

## ディレクトリ構成

```
english-word-learning/
├── main.py              # メインプログラム
├── word.csv             # 英単語データファイル
├── record.csv           # 学習進捗記録（自動生成）
├── requirements.txt     # 依存ライブラリ（推奨）
└── README.md           # このファイル
```

### ファイル詳細
- **main.py**: 英単語学習プログラムのメインファイル
- **word.csv**: 学習する英単語と日本語訳のデータベース
- **record.csv**: ランダムモード使用時の学習済み単語記録（自動生成）

---

## 開発環境構築方法

### 1. 前提条件
- Python 3.x がインストールされていること
- インターネット接続（gTTSによる音声生成のため）

### 2. プロジェクトのセットアップ
```bash
# プロジェクトディレクトリを作成
mkdir english-word-learning
cd english-word-learning

# main.pyをダウンロード/配置

# 依存ライブラリをインストール
pip install gtts pygame
```

### 3. 単語データの準備
```bash
# word.csvを作成（例）
echo "english,japanese" > word.csv
echo "hello,こんにちは" >> word.csv
echo "world,世界" >> word.csv
echo "study,勉強" >> word.csv
```

### 4. プログラム実行
```bash
python main.py
```

### 5. 使用方法
1. プログラムを起動すると、ランダム表示モードの選択画面が表示
2. 学習する単語数を入力
3. プログラムが各単語を3回ずつ音声で再生
4. 3回目の再生時に日本語の意味が表示
5. 設定した単語数に達すると自動終了

---

## トラブルシューティング

### よくある問題と解決方法

#### 1. `word.csv が見つかりません` エラー
**原因**: CSVファイルが存在しないか、パスが間違っている
```bash
# 解決方法
# main.pyと同じディレクトリにword.csvを配置
# ファイルの存在確認
ls -la word.csv
```

#### 2. 音声が再生されない
**原因**: pygameの音声システムの問題
```bash
# 解決方法
# pygameを再インストール
pip uninstall pygame
pip install pygame

# システムの音量を確認
# オーディオドライバが正しく動作しているか確認
```

#### 3. `ModuleNotFoundError: No module named 'gtts'`
**原因**: 必要なライブラリがインストールされていない
```bash
# 解決方法
pip install gtts pygame
```

#### 4. インターネット接続エラー
**原因**: gTTSはオンラインサービスのため、インターネット接続が必要
- ネットワーク接続を確認
- プロキシ設定が必要な場合は適切に設定

#### 5. CSV読み込みエラー
**原因**: CSVファイルの形式が正しくない
```csv
# 正しい形式（ヘッダー必須）
english,japanese
word1,意味1
word2,意味2
```

#### 6. 文字化けが発生する場合
**原因**: CSVファイルの文字エンコーディング
```bash
# UTF-8でCSVファイルを保存し直す
# テキストエディタで「UTF-8」を指定して保存
```

#### 7. プログラムが中断できない
**解決方法**: `Ctrl + C` で安全に中断可能（進捗は保存される）

### パフォーマンス最適化

#### 音声生成の高速化
- 一時ファイルは自動的に削除されるため、ディスク容量の心配は不要
- 大量の単語を学習する場合は、セッションを分割することを推奨

#### メモリ使用量削減
- プログラムは一時ファイルを都度削除するため、メモリ効率は良好
- 非常に大きなCSVファイル（10,000語以上）を使用する場合は注意

---

## ライセンス

このプロジェクトは個人学習用途で開発されています。  
依存ライブラリ（gTTS、pygame）のライセンスに従ってご利用ください。

## 貢献

バグ報告や機能改善の提案は歓迎します。  
プルリクエストを送信する前に、既存の機能が正常に動作することを確認してください。
